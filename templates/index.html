<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Jack Koehler</title>
  <meta name="description" content="Jack Koehler - Developer, maker, thinker." />
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
</head>

<body>
  <div class="app-wrapper">
    <!-- Sidebar Navigation -->
    <aside class="app-sidebar">
      <div class="sidebar-header">
        <h1 class="app-title">Jack Koehler</h1>
      </div>
      
      <nav class="sidebar-nav">
        <button class="nav-btn {% if page == 'about' %}active{% endif %}" data-page="about">
          <span class="nav-icon">üë§</span>
          <span class="nav-label">About</span>
        </button>
        <button class="nav-btn {% if page == 'projects' %}active{% endif %}" data-page="projects">
          <span class="nav-icon">üöÄ</span>
          <span class="nav-label">Projects</span>
        </button>
        
        <div class="nav-divider">Games</div>
        
        <button class="nav-btn" data-page="pong">
          <span class="nav-icon">üèì</span>
          <span class="nav-label">Pong</span>
        </button>
        <button class="nav-btn" data-page="drawing">
          <span class="nav-icon">üé®</span>
          <span class="nav-label">Drawing</span>
        </button>
        <button class="nav-btn" data-page="modern-pirates">
          <span class="nav-icon">üè¥‚Äç‚ò†Ô∏è</span>
          <span class="nav-label">Modern Pirates</span>
        </button>
        <button class="nav-btn" data-page="fps">
          <span class="nav-icon">üéØ</span>
          <span class="nav-label">FPS Shooter</span>
        </button>
      </nav>
      
      <div class="sidebar-footer">
        <p><span id="year"></span> Jack Koehler</p>
      </div>
    </aside>

    <!-- Main Content Area -->
    <main class="app-content">
      <!-- About -->
      <div class="page {% if page == 'about' %}active{% endif %}" id="about">
        <div class="page-container">
          <h2>About</h2>
          <p>
            <strong>Who am I?</strong>
          </p>
          <p>
            Just a guy with a Co-pilot Pro account
          </p>
          <p>
            Contact for professional inquires:<br>
            <a href="https://www.linkedin.com/in/jack-koehler-5933bb44/" target="_blank" rel="noreferrer">https://www.linkedin.com/in/jack-koehler-5933bb44/</a>
          </p>
        </div>
      </div>

      <!-- Projects -->
      <div class="page" id="projects">
        <div class="page-container">
          <h2>Projects</h2>
          <div class="projects-list">
            <div class="project-item">
              <h3>Project One</h3>
              <p>Description of what this project is about and the technologies used.</p>
            </div>
            <div class="project-item">
              <h3>Project Two</h3>
              <p>Description of what this project is about and the technologies used.</p>
            </div>
            <div class="project-item">
              <h3>Project Three</h3>
              <p>Description of what this project is about and the technologies used.</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Pong -->
      <div class="page" id="pong">
        <div class="page-container game-full">
          <div class="pong-wrapper">
            <div class="pong-sidebar">
              <div class="pong-sidebar-header">
                <h2>Pong</h2>
                <p>Player vs AI</p>
              </div>
              <div class="pong-section">
                <h3>üéÆ Controls</h3>
                <p><strong>Mouse:</strong> Move to control paddle</p>
                <p><strong>SPACE:</strong> Play/Pause</p>
              </div>
              <div class="pong-section">
                <h3>üìä Scores</h3>
                <p>You: <strong id="playerPongScore">0</strong></p>
                <p>AI: <strong id="aiPongScore">0</strong></p>
              </div>
              <button id="pongResetBtn">Reset Game</button>
            </div>
            <div class="pong-game-area">
              <canvas id="pongCanvas" width="800" height="400"></canvas>
            </div>
          </div>
        </div>
      </div>

      <!-- Drawing -->
      <div class="page" id="drawing">
        <div class="page-container">
          <h2>Persistent Drawing Board</h2>
          <div class="game-container">
            <canvas id="drawingCanvas" width="800" height="600"></canvas>
            <div class="game-controls">
              <button id="drawClearBtn">Clear Canvas</button>
              <input type="color" id="drawColorPicker" value="#ffffff" title="Brush Color">
              <input type="range" id="drawBrushSize" min="1" max="50" value="5" title="Brush Size">
            </div>
            <p>Draw on the canvas. Your drawings are saved locally in your browser.</p>
          </div>
        </div>
      </div>

      <!-- FPS Shooter -->
      <div class="page" id="fps">
        <div class="fps-wrapper">
          <!-- HUD Overlay -->
          <div class="fps-hud">
            <div class="fps-hud-top">
              <div class="fps-stat">
                <span class="fps-stat-label">HEALTH</span>
                <span class="fps-stat-value" id="fpsHealth">100</span>
              </div>
              <div class="fps-stat">
                <span class="fps-stat-label">AMMO</span>
                <span class="fps-stat-value" id="fpsAmmo">30/30</span>
              </div>
              <div class="fps-stat">
                <span class="fps-stat-label">SCORE</span>
                <span class="fps-stat-value" id="fpsScore">0</span>
              </div>
              <div class="fps-stat">
                <span class="fps-stat-label">KILLS</span>
                <span class="fps-stat-value" id="fpsKills">0</span>
              </div>
            </div>
            
            <div id="fpsCrosshair" class="fps-crosshair"></div>
            
            <div class="fps-hud-bottom">
              <div id="fpsReload" class="fps-reload" style="display: none;">Reloading...</div>
              <div class="fps-controls">
                <span>WASD: Move | MOUSE: Look | CLICK: Shoot | R: Reload</span>
              </div>
            </div>
          </div>
          
          <!-- Game Over Screen -->
          <div id="fpsGameOver" class="fps-gameover" style="display: none;">
            <div class="fps-gameover-content">
              <h2>GAME OVER</h2>
              <p>Final Score: <strong id="fpsFinalScore">0</strong></p>
              <p>Total Kills: <strong id="fpsFinalKills">0</strong></p>
              <button id="fpsResetBtn" class="btn-primary">Play Again</button>
            </div>
          </div>
          
          <!-- Click to Start Overlay -->
          <div class="fps-start-overlay">
            <div class="fps-start-content">
              <h2>üéØ FPS SHOOTER</h2>
              <p>Click anywhere to start playing</p>
              <p class="fps-start-hint">Tip: Click to lock mouse and control camera</p>
            </div>
          </div>
          
          <!-- Canvas -->
          <canvas id="fpsCanvas" width="1200" height="800"></canvas>
        </div>
      </div>

      <!-- Modern Pirates -->
      <div class="page" id="modern-pirates">
        <!-- Mode Selection Screen -->
        <div id="piratesModeSelection" class="pirates-lobby">
          <div class="lobby-container">
            <h2>Modern Pirates</h2>
            <p class="lobby-subtitle">Choose Your Play Style</p>
            
            <div class="mode-selection" style="display: flex; flex-direction: column; gap: 20px; margin-top: 30px;">
              <div class="mode-card" id="standardModeCard" style="background: rgba(255, 215, 0, 0.1); border: 2px solid #FFD700; border-radius: 8px; padding: 20px; cursor: pointer; transition: all 0.3s;">
                <h3 style="color: #FFD700; margin: 0 0 10px 0;">üé≤ Standard Play</h3>
                <p style="margin: 0 0 10px 0; font-size: 14px;">Classic board game experience with a top-down view of the 20x80 grid. Navigate your ship, discover islands, and race to 25 points!</p>
                <ul style="margin: 10px 0; padding-left: 20px; font-size: 13px; color: #a0a0a0;">
                  <li>Turn-based strategy gameplay</li>
                  <li>Full board view with zoom controls</li>
                  <li>Tactical ship movement and combat</li>
                </ul>
              </div>
              
              <div class="mode-card" id="openWorldModeCard" style="background: rgba(78, 205, 196, 0.1); border: 2px solid #4ECDC4; border-radius: 8px; padding: 20px; cursor: pointer; transition: all 0.3s;">
                <h3 style="color: #4ECDC4; margin: 0 0 10px 0;">üåä Open World Play</h3>
                <p style="margin: 0 0 10px 0; font-size: 14px;">Immersive first-person exploration where the board game becomes your world map. Freely explore the seas and islands in real-time!</p>
                <ul style="margin: 10px 0; padding-left: 20px; font-size: 13px; color: #a0a0a0;">
                  <li>First-person exploration and movement</li>
                  <li>Real-time world navigation (WASD controls)</li>
                  <li>Board grid shown as minimap</li>
                </ul>
              </div>
              
              <div class="mode-card" id="shipEditorModeCard" style="background: rgba(138, 43, 226, 0.1); border: 2px solid #8A2BE2; border-radius: 8px; padding: 20px; cursor: pointer; transition: all 0.3s;">
                <h3 style="color: #8A2BE2; margin: 0 0 10px 0;">‚öì Ship Editor</h3>
                <p style="margin: 0 0 10px 0; font-size: 14px;">Customize your fleet with Sea of Thieves-inspired graphics and Civilization-style tech tree upgrades. Build and upgrade ships from rafts to ironclads!</p>
                <ul style="margin: 10px 0; padding-left: 20px; font-size: 13px; color: #a0a0a0;">
                  <li>Visual ship customization</li>
                  <li>Tech tree progression system</li>
                  <li>Material-based crafting</li>
                </ul>
              </div>
            </div>
            
            <button id="backToMenuBtn" class="btn-secondary" style="margin-top: 20px; display: none;">‚Üê Back to Main Menu</button>
          </div>
        </div>
        
        <!-- Game Lobby Screen -->
        <div id="piratesLobby" class="pirates-lobby" style="display: none;">
          <div class="lobby-container">
            <h2>Modern Pirates</h2>
            <p class="lobby-subtitle" id="lobbyModeSubtitle">Race to 25 points!</p>
            
            <div class="lobby-section">
              <h3>Game ID: <span id="lobbyGameId">----</span></h3>
              <p id="gameStatusText" style="margin: 10px 0 0 0; font-size: 13px; color: #a0a0a0;">Ready to play</p>
            </div>
            
            <div class="lobby-buttons">
              <button id="createGameBtn" class="btn-primary">Create New Game</button>
              <button id="joinGameBtn" class="btn-secondary">Join Game</button>
            </div>
            
            <div id="joinGameForm" class="lobby-form" style="display: none;">
              <input type="text" id="gameIdInput" placeholder="Enter 4-digit game ID" maxlength="4" inputmode="numeric">
              <button id="joinConfirmBtn" class="btn-primary">Join</button>
              <button id="joinCancelBtn" class="btn-secondary">Cancel</button>
            </div>
            
            <div id="recentGamesSection" style="margin-top: 30px; display: none;">
              <p style="font-size: 12px; color: var(--muted); margin-bottom: 10px;">Recent Games:</p>
              <div id="recentGamesList" style="max-height: 150px; overflow-y: auto;"></div>
            </div>
            
            <button id="backToModeSelectionBtn" class="btn-secondary" style="margin-top: 20px;">‚Üê Back to Mode Selection</button>
          </div>
        </div>
        
        <!-- Ship Editor Screen -->
        <div id="piratesShipEditor" class="pirates-lobby" style="display: none;">
          <div class="lobby-container">
            <h2>‚öì Ship Editor</h2>
            <p class="lobby-subtitle">Customize Your Fleet - Sea of Thieves meets Civilization</p>
            
            <!-- Ship Preview Canvas -->
            <div style="margin: 30px 0; text-align: center;">
              <canvas id="shipPreviewCanvas" width="600" height="400" style="background: linear-gradient(to bottom, #1a3a52 0%, #2d5f7e 50%, #1a3a52 100%); border: 2px solid #4ECDC4; border-radius: 8px; max-width: 100%;"></canvas>
            </div>
            
            <!-- Ship Tech Tree -->
            <div style="margin: 30px 0;">
              <h3 style="color: #FFD700; margin-bottom: 20px;">‚öîÔ∏è Ship Tech Tree</h3>
              <div id="shipTechTree" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 15px; max-height: 400px; overflow-y: auto; padding: 10px;">
                <!-- Ship cards will be dynamically generated here -->
              </div>
            </div>
            
            <!-- Current Ship Info -->
            <div style="margin: 30px 0; padding: 20px; background: rgba(78, 205, 196, 0.1); border: 2px solid #4ECDC4; border-radius: 8px;">
              <h3 style="color: #4ECDC4; margin: 0 0 15px 0;">üö¢ Current Ship</h3>
              <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                <div>
                  <p style="margin: 5px 0; font-size: 14px;"><strong>Ship:</strong> <span id="editorCurrentShip">Raft</span></p>
                  <p style="margin: 5px 0; font-size: 14px;"><strong>Tier:</strong> <span id="editorShipTier">1</span></p>
                </div>
                <div>
                  <p style="margin: 5px 0; font-size: 14px;"><strong>‚ö° Speed:</strong> <span id="editorShipSpeed">1</span></p>
                  <p style="margin: 5px 0; font-size: 14px;"><strong>üõ°Ô∏è Hull:</strong> <span id="editorShipHull">20</span></p>
                  <p style="margin: 5px 0; font-size: 14px;"><strong>üì¶ Cargo:</strong> <span id="editorShipCargo">5</span></p>
                </div>
              </div>
            </div>
            
            <!-- Materials Inventory -->
            <div style="margin: 30px 0; padding: 20px; background: rgba(255, 215, 0, 0.1); border: 2px solid #FFD700; border-radius: 8px;">
              <h3 style="color: #FFD700; margin: 0 0 15px 0;">üíé Materials Inventory</h3>
              <div id="materialsInventory" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px; font-size: 13px;">
                <div><strong>üåæ Thatch:</strong> <span id="materialThatch">0</span></div>
                <div><strong>ü™µ Wood:</strong> <span id="materialWood">0</span></div>
                <div><strong>ü™® Stone:</strong> <span id="materialStone">0</span></div>
                <div><strong>‚öôÔ∏è Iron:</strong> <span id="materialIron">0</span></div>
                <div><strong>üî© Steel:</strong> <span id="materialSteel">0</span></div>
                <div><strong>üí† Titanium:</strong> <span id="materialTitanium">0</span></div>
              </div>
            </div>
            
            <div style="display: flex; gap: 10px; margin-top: 20px;">
              <button id="backToLobbyFromEditor" class="btn-secondary" style="flex: 1;">‚Üê Back to Lobby</button>
              <button id="testShipBtn" class="btn-primary" style="flex: 1;">üö¢ Set as Active Ship</button>
            </div>
          </div>
        </div>
        
        <!-- Game Screen -->
        <div id="piratesGame" class="modern-pirates-wrapper" style="display: none;">
          <!-- Left Sidebar -->
          <div class="pirates-sidebar">
            <div class="pirates-actions" style="margin-bottom: 20px;">
              <button id="piratesResetBtn" class="btn-primary">New Game</button>
              <button id="piratesHelpBtn" class="btn-secondary">Help</button>
            </div>
            
            <div class="pirates-actions" style="margin-bottom: 20px; display: flex; gap: 8px;">
              <button id="piratesZoomInBtn" class="btn-secondary" style="flex: 1;">Zoom +</button>
              <button id="piratesZoomOutBtn" class="btn-secondary" style="flex: 1;">Zoom -</button>
            </div>
            
            <div class="pirates-sidebar-header">
              <h2>Game: <span id="gameIdDisplay">0000</span></h2>
              <p>Race to 25 points!</p>
            </div>
            
            <div class="pirates-section" style="background: rgba(79, 205, 196, 0.15); border-color: #4ECDC4;">
              <h3 style="color: #4ECDC4; margin: 0 0 10px 0;">üéÆ Player Info</h3>
              <p style="margin: 4px 0;"><strong id="playerRole">Player 1</strong></p>
              <p style="margin: 4px 0; font-size: 12px; color: var(--muted);">ID: <strong id="playerId">-</strong></p>
              <p style="margin: 4px 0; font-size: 12px;" id="turnIndicator">Waiting to start...</p>
            </div>
            
            <div class="pirates-section">
              <h3>‚õµ Your Ship</h3>
              <div id="shipInfo">
                <p>Ship: <strong id="shipClass">Scout</strong></p>
                <p>Position: <strong id="shipPos">-</strong></p>
                <p>Upgrades: <strong id="shipUpgrades">0</strong></p>
              </div>
            </div>
            
            <div class="pirates-section">
              <h3>üéØ Points</h3>
              <div id="pointsDisplay">
                <p>Your Points: <strong id="playerPoints">0</strong> / 25</p>
                <div class="points-breakdown">
                  <small>Islands: <span id="islandPoints">0</span></small><br>
                  <small>Battles: <span id="battlePoints">0</span></small><br>
                  <small>Upgrades: <span id="upgradePoints">0</span></small>
                </div>
              </div>
            </div>
            
            <div class="pirates-section">
              <h3>üå¨Ô∏è Wind</h3>
              <div id="windInfo">
                <p>Direction: <strong id="windDir">NW</strong></p>
                <p>Speed: <strong id="windSpeed">3</strong> knots</p>
                <canvas id="windCompass" width="120" height="120"></canvas>
              </div>
            </div>
            
            <div class="pirates-section">
              <h3>üè¥ Enemies</h3>
              <div id="enemiesList"></div>
            </div>
            
            <div class="pirates-section">
              <h3>üé¥ Deck</h3>
              <div id="deckInfo">
                <p>Cards Available:</p>
                <div id="cardHand"></div>
              </div>
            </div>
          </div>
          
          <!-- Game Canvas -->
          <div class="pirates-game-area">
            <canvas id="modernPiratesCanvas"></canvas>
          </div>
        </div>
        
        <!-- Open World Game Screen -->
        <div id="piratesOpenWorld" class="modern-pirates-wrapper" style="display: none;">
          <!-- First-Person View Area -->
          <div class="openworld-main">
            <canvas id="openWorldCanvas"></canvas>
            
            <!-- HUD Overlay -->
            <div class="openworld-hud">
              <div class="openworld-hud-top">
                <div class="openworld-stat">
                  <span class="openworld-stat-label">POSITION</span>
                  <span class="openworld-stat-value" id="owPosition">0, 0</span>
                </div>
                <div class="openworld-stat">
                  <span class="openworld-stat-label">POINTS</span>
                  <span class="openworld-stat-value" id="owPoints">0/25</span>
                </div>
                <div class="openworld-stat">
                  <span class="openworld-stat-label">WIND</span>
                  <span class="openworld-stat-value" id="owWind">NW 3kt</span>
                </div>
              </div>
              
              <!-- Minimap -->
              <div class="openworld-minimap">
                <canvas id="minimapCanvas" width="200" height="800"></canvas>
                <p style="font-size: 10px; margin: 5px 0 0 0; text-align: center;">Map View</p>
              </div>
              
              <div class="openworld-hud-bottom">
                <div class="openworld-controls">
                  <span>WASD: Move | MOUSE: Look | M: Toggle Map | ESC: Menu</span>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Right Sidebar for Open World -->
          <div class="pirates-sidebar">
            <div class="pirates-actions" style="margin-bottom: 20px;">
              <button id="owNewGameBtn" class="btn-primary">New Game</button>
              <button id="owToggleMapBtn" class="btn-secondary">Toggle Map</button>
            </div>
            
            <div class="pirates-sidebar-header">
              <h2>Open World Mode</h2>
              <p>Explore the seas!</p>
            </div>
            
            <div class="pirates-section">
              <h3>‚õµ Your Ship</h3>
              <div id="owShipInfo">
                <p>Position: <strong id="owShipPos">-</strong></p>
                <p>Heading: <strong id="owHeading">N</strong></p>
              </div>
            </div>
            
            <div class="pirates-section">
              <h3>üéØ Progress</h3>
              <div id="owProgressDisplay">
                <p>Points: <strong id="owPlayerPoints">0</strong> / 25</p>
                <p>Islands Visited: <strong id="owIslandsVisited">0</strong></p>
              </div>
            </div>
            
            <div class="pirates-section">
              <h3>üó∫Ô∏è Nearby</h3>
              <div id="owNearbyInfo">
                <p style="font-size: 12px; color: #a0a0a0;">Nothing nearby...</p>
              </div>
            </div>
          </div>
        </div>
    </main>
  </div>

  <!-- Scripts -->
  <script src="{{ url_for('static', filename='games/pong.js') }}"></script>
  <script src="{{ url_for('static', filename='games/drawing.js') }}"></script>
  <script src="{{ url_for('static', filename='games/modern-pirates.js') }}"></script>
  <script src="{{ url_for('static', filename='games/fps.js') }}"></script>
  
  <script>
    document.getElementById("year").textContent = new Date().getFullYear();

    const navBtns = document.querySelectorAll(".nav-btn");
    const pages = document.querySelectorAll(".page");

    navBtns.forEach(btn => {
      btn.addEventListener("click", () => {
        const pageName = btn.getAttribute("data-page");
        
        // Remove active from all buttons and pages
        navBtns.forEach(b => b.classList.remove("active"));
        pages.forEach(p => p.classList.remove("active"));
        
        // Add active to clicked button and corresponding page
        btn.classList.add("active");
        document.getElementById(pageName).classList.add("active");
        
        // Initialize games when pages are switched
        if (pageName === "pong") initPong();
        if (pageName === "drawing") initDrawing();
        if (pageName === "modern-pirates") initModernPirates();
        if (pageName === "fps") initFPS();
      });
    });
  </script>
</body>
</html>
