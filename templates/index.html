<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Jack Koehler</title>
  <meta name="description" content="Jack Koehler - Developer, maker, thinker." />
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
</head>

<body>
  <div class="app-wrapper">
    <!-- Sidebar Navigation -->
    <aside class="app-sidebar">
      <div class="sidebar-header">
        <h1 class="app-title">Jack Koehler</h1>
      </div>
      
      <nav class="sidebar-nav">
        <button class="nav-btn {% if page == 'about' %}active{% endif %}" data-page="about">
          <span class="nav-icon">üë§</span>
          <span class="nav-label">About</span>
        </button>
        <button class="nav-btn" data-page="projects">
          <span class="nav-icon">üöÄ</span>
          <span class="nav-label">Projects</span>
        </button>
        <button class="nav-btn" data-page="contact">
          <span class="nav-icon">‚úâÔ∏è</span>
          <span class="nav-label">Contact</span>
        </button>
        
        <div class="nav-divider">Games</div>
        
        <button class="nav-btn" data-page="pong">
          <span class="nav-icon">üèì</span>
          <span class="nav-label">Pong</span>
        </button>
        <button class="nav-btn" data-page="drawing">
          <span class="nav-icon">üé®</span>
          <span class="nav-label">Drawing</span>
        </button>
        <button class="nav-btn" data-page="modern-pirates">
          <span class="nav-icon">üè¥‚Äç‚ò†Ô∏è</span>
          <span class="nav-label">Modern Pirates</span>
        </button>
      </nav>
      
      <div class="sidebar-footer">
        <p><span id="year"></span> Jack Koehler</p>
      </div>
    </aside>

    <!-- Main Content Area -->
    <main class="app-content">
      <!-- About -->
      <div class="page {% if page == 'about' %}active{% endif %}" id="about">
        <div class="page-container">
          <h2>About</h2>
          <p>
            Welcome to the Jack Koehler organization. This is primarily an A.I. agent created page.
          </p>
          <p>
            The moman Jack Koehler lives in NYC and enjoys collecting, sailing, and full stack development
          </p>
        </div>
      </div>

      <!-- Projects -->
      <div class="page" id="projects">
        <div class="page-container">
          <h2>Projects</h2>
          <div class="projects-list">
            <div class="project-item">
              <h3>Project One</h3>
              <p>Description of what this project is about and the technologies used.</p>
            </div>
            <div class="project-item">
              <h3>Project Two</h3>
              <p>Description of what this project is about and the technologies used.</p>
            </div>
            <div class="project-item">
              <h3>Project Three</h3>
              <p>Description of what this project is about and the technologies used.</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Contact -->
      <div class="page" id="contact">
        <div class="page-container">
          <h2>Contact</h2>
          <div class="contact-links">
            <p><a href="mailto:jack@jackkoehler.org">Email</a></p>
            <p><a href="https://github.com" target="_blank" rel="noreferrer">GitHub</a></p>
            <p><a href="https://linkedin.com" target="_blank" rel="noreferrer">LinkedIn</a></p>
          </div>
        </div>
      </div>

      <!-- Pong -->
      <div class="page" id="pong">
        <div class="page-container game-full">
          <div class="pong-wrapper">
            <div class="pong-sidebar">
              <div class="pong-sidebar-header">
                <h2>Pong</h2>
                <p>Player vs AI</p>
              </div>
              <div class="pong-section">
                <h3>üéÆ Controls</h3>
                <p><strong>Mouse:</strong> Move to control paddle</p>
                <p><strong>SPACE:</strong> Play/Pause</p>
              </div>
              <div class="pong-section">
                <h3>üìä Scores</h3>
                <p>You: <strong id="playerPongScore">0</strong></p>
                <p>AI: <strong id="aiPongScore">0</strong></p>
              </div>
              <button id="pongResetBtn">Reset Game</button>
            </div>
            <div class="pong-game-area">
              <canvas id="pongCanvas" width="800" height="400"></canvas>
            </div>
          </div>
        </div>
      </div>

      <!-- Drawing -->
      <div class="page" id="drawing">
        <div class="page-container">
          <h2>Persistent Drawing Board</h2>
          <div class="game-container">
            <canvas id="drawingCanvas" width="800" height="600"></canvas>
            <div class="game-controls">
              <button id="drawClearBtn">Clear Canvas</button>
              <input type="color" id="drawColorPicker" value="#ffffff" title="Brush Color">
              <input type="range" id="drawBrushSize" min="1" max="50" value="5" title="Brush Size">
            </div>
            <p>Draw on the canvas. Your drawings are saved locally in your browser.</p>
          </div>
        </div>
      </div>

      <!-- Modern Pirates -->
      <div class="page" id="modern-pirates">
        <!-- Game Lobby Screen -->
        <div id="piratesLobby" class="pirates-lobby">
          <div class="lobby-container">
            <h2>Modern Pirates</h2>
            <p class="lobby-subtitle">Race to 25 points!</p>
            
            <div class="lobby-section">
              <h3>Game ID: <span id="lobbyGameId">----</span></h3>
              <p id="gameStatusText" style="margin: 10px 0 0 0; font-size: 13px; color: #a0a0a0;">Ready to play</p>
            </div>
            
            <div class="lobby-buttons">
              <button id="createGameBtn" class="btn-primary">Create New Game</button>
              <button id="joinGameBtn" class="btn-secondary">Join Game</button>
            </div>
            
            <div id="joinGameForm" class="lobby-form" style="display: none;">
              <input type="text" id="gameIdInput" placeholder="Enter 4-digit game ID" maxlength="4" inputmode="numeric">
              <button id="joinConfirmBtn" class="btn-primary">Join</button>
              <button id="joinCancelBtn" class="btn-secondary">Cancel</button>
            </div>
            
            <div id="recentGamesSection" style="margin-top: 30px; display: none;">
              <p style="font-size: 12px; color: var(--muted); margin-bottom: 10px;">Recent Games:</p>
              <div id="recentGamesList" style="max-height: 150px; overflow-y: auto;"></div>
            </div>
          </div>
        </div>
        
        <!-- Game Screen -->
        <div id="piratesGame" class="modern-pirates-wrapper" style="display: none;">
          <!-- Left Sidebar -->
          <div class="pirates-sidebar">
            <div class="pirates-actions" style="margin-bottom: 20px;">
              <button id="piratesResetBtn" class="btn-primary">New Game</button>
              <button id="piratesHelpBtn" class="btn-secondary">Help</button>
            </div>
            
            <div class="pirates-sidebar-header">
              <h2>Game: <span id="gameIdDisplay">0000</span></h2>
              <p>Race to 25 points!</p>
            </div>
            
            <div class="pirates-section" style="background: rgba(79, 205, 196, 0.15); border-color: #4ECDC4;">
              <h3 style="color: #4ECDC4; margin: 0 0 10px 0;">üéÆ Player Info</h3>
              <p style="margin: 4px 0;"><strong id="playerRole">Player 1</strong></p>
              <p style="margin: 4px 0; font-size: 12px; color: var(--muted);">ID: <strong id="playerId">-</strong></p>
              <p style="margin: 4px 0; font-size: 12px;" id="turnIndicator">Waiting to start...</p>
            </div>
            
            <div class="pirates-section">
              <h3>‚õµ Your Ship</h3>
              <div id="shipInfo">
                <p>Ship: <strong id="shipClass">Scout</strong></p>
                <p>Position: <strong id="shipPos">-</strong></p>
                <p>Upgrades: <strong id="shipUpgrades">0</strong></p>
              </div>
            </div>
            
            <div class="pirates-section">
              <h3>üéØ Points</h3>
              <div id="pointsDisplay">
                <p>Your Points: <strong id="playerPoints">0</strong> / 25</p>
                <div class="points-breakdown">
                  <small>Islands: <span id="islandPoints">0</span></small><br>
                  <small>Battles: <span id="battlePoints">0</span></small><br>
                  <small>Upgrades: <span id="upgradePoints">0</span></small>
                </div>
              </div>
            </div>
            
            <div class="pirates-section">
              <h3>üå¨Ô∏è Wind</h3>
              <div id="windInfo">
                <p>Direction: <strong id="windDir">NW</strong></p>
                <p>Speed: <strong id="windSpeed">3</strong> knots</p>
                <canvas id="windCompass" width="120" height="120"></canvas>
              </div>
            </div>
            
            <div class="pirates-section">
              <h3>üè¥ Enemies</h3>
              <div id="enemiesList"></div>
            </div>
            
            <div class="pirates-section">
              <h3>üé¥ Deck</h3>
              <div id="deckInfo">
                <p>Cards Available:</p>
                <div id="cardHand"></div>
              </div>
            </div>
          </div>
          
          <!-- Game Canvas -->
          <div class="pirates-game-area">
            <canvas id="modernPiratesCanvas"></canvas>
          </div>
        </div>
    </main>
  </div>

  <!-- Scripts -->
  <script src="{{ url_for('static', filename='games/pong.js') }}"></script>
  <script src="{{ url_for('static', filename='games/drawing.js') }}"></script>
  <script src="{{ url_for('static', filename='games/modern-pirates.js') }}"></script>
  
  <script>
    document.getElementById("year").textContent = new Date().getFullYear();

    const navBtns = document.querySelectorAll(".nav-btn");
    const pages = document.querySelectorAll(".page");

    navBtns.forEach(btn => {
      btn.addEventListener("click", () => {
        const pageName = btn.getAttribute("data-page");
        
        // Remove active from all buttons and pages
        navBtns.forEach(b => b.classList.remove("active"));
        pages.forEach(p => p.classList.remove("active"));
        
        // Add active to clicked button and corresponding page
        btn.classList.add("active");
        document.getElementById(pageName).classList.add("active");
        
        // Initialize games when pages are switched
        if (pageName === "pong") initPong();
        if (pageName === "drawing") initDrawing();
        if (pageName === "modern-pirates") initModernPirates();
      });
    });
  </script>
</body>
</html>
